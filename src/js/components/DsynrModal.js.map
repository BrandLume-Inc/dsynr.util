{"version":3,"file":"DsynrModal.js","sourceRoot":"","sources":["../../ts/components/DsynrModal.ts"],"names":[],"mappings":"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","sourcesContent":["class DsynrModal extends DsynrUIIElement {\n\n    private instanceRoot: HTMLElement;\n    private underlay: HTMLElement;\n\n    private trigger: string; //\"auto\" => automatically shows as soon as instantiated\n    private instanceRootClass: string;\n\n    private parentSizingClass: string;\n    private windowSizingClass: string;\n    private underlayClass: string;\n    private overlayClass: string;\n    private disableUnderlay: boolean;\n    private useOverlay: boolean;\n\n    private adoptParent: boolean;\n    private autoDestroy: boolean;\n\n    private animateUnderlay: boolean;\n    private displayTogether: boolean;\n    private animateModal: boolean;\n    private modalAnimateInClass: string;\n    private modalAnimateAttentionClass: string;\n    private modalAnimateOutClass: string;\n\n    constructor(modalContent: HTMLElement, preferences: object = {}) {\n        super(modalContent, preferences);\n        if (!this.selfAbort) {\n            lfn('DsynrModal');\n            this.setDefaults();\n            this.setup();\n        }\n    }\n\n    setDefaults(reset: boolean = false): void {\n        lfn('setDefaults');\n\n        super.setDefaults();\n\n        let positionClass: string = 'position-absolute';\n        let alignmentClass: string = 'top left';\n\n        this.adoptParent = addProp(this, 'adoptParent', true, reset);\n        this.animateModal = addProp(this, 'animateModal', true, reset);\n        this.autoDestroy = addProp(this, 'autoDestroy', true, reset);\n        this.displayTogether = addProp(this, 'displayTogether', true, reset);\n        this.useOverlay = addProp(this, 'useOverlay', true, reset);\n        this.disableUnderlay = addProp(this, 'disableUnderlay', true, reset);\n\n        this.animateUnderlay = addProp(this, 'animateUnderlay', true, reset);\n\n        this.nameSuffix = addProp(this, 'nameSuffix', DsynrModal.instances.length.toString(), reset);\n        this.namePrefix = addProp(this, 'namePrefix', 'dsynrModal', reset);\n\n        this.modalAnimateInClass = addProp(this, 'modalAnimateInClass', concatStr([this.animateClass, 'flipInX']), reset);\n        this.modalAnimateOutClass = addProp(this, 'modalAnimateOutClass', concatStr([this.animateClass, 'flipOutY']), reset);\n        this.modalAnimateAttentionClass = addProp(this, 'modalAnimateAttentionClass', concatStr([this.animateClass, 'shake']), reset);\n\n        this.overlayClass = addProp(this, 'overlayClass', 'o50 bg-dark', reset);\n        this.parentSizingClass = addProp(this, 'sizingClass', 'wmax hmax', reset);\n        this.windowSizingClass = addProp(this, 'windowSizingClass', 'vw vh', reset);\n\n        this.underlayClass = addProp(this, 'underlayClass', concatStr([positionClass, alignmentClass, this.parentSizingClass, 'z1']), reset);\n\n        this.instanceClass = addProp(this, 'instanceClass', concatStr([positionClass, 'z2 o0']), reset);\n        this.instanceRootClass = addProp(this, 'instanceRootClass', concatStr([positionClass, alignmentClass, this.parentSizingClass, 'z3 o0 d-none']), reset);\n\n        this.trigger = addProp(this, 'trigger', 'auto', reset);\n    }\n\n    setup(): void {\n        lfn('setup');\n\n        let self: DsynrModal = this;\n        addClass(this.content, 'd-none');\n        if (this.trigger != 'auto') {\n            l('setting trigger to : ' + this.trigger);\n            addListener(this.trigger, 'click', function () {\n                self.show();\n            });\n            l('Modal Trigger READY!');\n        } else {\n            l('Triggering Automatically...');\n            this.show();\n        }\n    }\n\n    /**\n     * @todo\n     * add animationEnd listener for root and then animate modal\n     * add optional animationEnd listener for modal\n     */\n    show(): void {\n        if (DsynrModal.activeInstance !== this) {\n            lfn('show via : ' + this.trigger);\n\n            addClass(this.content, 'o0');\n            removeClass(this.content, 'd-none');\n\n            if (this.parent === undefined) {\n                l('parent unavailable, adding modal to body');\n                this.parent = document.body;\n            }\n            this.instanceRoot = addDiv(this.setName('root', this.content.id), this.instanceRootClass, this.parent);\n\n            if (this.disableUnderlay) {\n                // this.resizeRoot();\n\n                if (this.useOverlay) {\n                    this.underlayClass = concatStr([this.underlayClass, this.overlayClass]);\n                }\n\n                this.underlay = addDiv(this.setName('underlay', this.content.id), this.underlayClass, this.instanceRoot);\n            } else {\n                removeClass(this.instanceRoot, this.parentSizingClass);\n            }\n\n            this.instance = addDiv(this.setName('modal', this.parent.id), this.instanceClass, this.instanceRoot);\n\n            this.addListeners();\n            //update to detect parent (parent) resizing opposed to just window\n            this.instance.appendChild(this.content);\n            // window.addEventListener('resize', function () {\n            //     modals[modals.length].align();\n            // });\n\n\n            removeClass(this.instanceRoot, 'd-none');\n            removeClass(this.instance, 'o0');\n            removeClass(this.content, 'o0');\n\n            l(this.parent.id);\n            if (this.adoptParent && (this.content.clientHeight > this.parent.clientHeight || this.content.clientWidth > this.parent.clientWidth)) {\n                lfn('adoptParent');\n                l('parent cannot accommodate child, adopting body as parent!');\n                this.parent = document.body;\n                this.parent.append(this.instanceRoot);\n                this.resizeRoot();\n            }\n\n            this.align();\n            this.animateDisplay();\n            this.setActive();\n        }\n    }\n\n    attention(): void {\n        lfn('attention');\n        this.animateDisplay(true);\n    }\n\n    private animateDisplay(getAttention: boolean = false): void {\n        lfn('animateDisplay');\n\n        if (this.displayTogether) {\n\n            if (this.animate && this.animateUnderlay) {\n                if (getAttention) {\n                    removeClass(this.instanceRoot, this.animateInClass);\n                    addClass(this.instanceRoot, this.animateAttentionClass);\n\n                    removeClass(this.instance, this.modalAnimateInClass);\n                    addClass(this.instance, this.modalAnimateAttentionClass);\n                } else {\n                    addClass(this.instanceRoot, this.animateInClass);\n                    addClass(this.instance, this.modalAnimateInClass);\n                }\n\n            } else {\n                if (getAttention) {\n                    //@todo\n                } else {\n                    removeClass(this.instanceRoot, 'o0');\n                    removeClass(this.instance, 'o0');\n                }\n            }\n\n        } else {\n            //@todo animate one after other\n        }\n    }\n\n    hide(destroy: boolean = this.autoDestroy): void {\n        lfn('hide');\n        if (this.useOverlay) {\n            removeClass(this.instanceRoot, this.modalAnimateInClass);\n            addClass(this.instanceRoot, this.modalAnimateOutClass);\n        }\n        if (destroy) {\n            l('TODO ONANIMATIONEND LISTENER...');\n            this.destroy();\n        }\n        DsynrModal.activeInstance = false;\n    }\n\n    private resizeRoot() {\n        lfn('resizeRoot');\n        if (this.parent == document.body) {\n            removeClass(this.instanceRoot, this.parentSizingClass);\n            addClass(this.instanceRoot, this.windowSizingClass);\n        } else {\n            this.instanceRoot.style.width = getCssDimension(this.parent.clientWidth);\n            this.instanceRoot.style.height = getCssDimension(this.parent.clientHeight);\n        }\n    }\n\n    destroy(): void {\n        lfn('destroying modal..');\n        this.instanceRoot.remove();\n    }\n\n    setActive(): void {\n        lfn('setActive');\n        this.instanceRoot = this.instanceRoot;\n        this.content.focus();\n        DsynrModal.activeInstance = this;\n    }\n\n    addListeners() {\n        lfn('addListeners');\n        let self: DsynrModal = this;\n        if (this.animate) {\n            l('enabling animation');\n            this.instance.addEventListener(transitionEvent, self.modalHidden);\n            // this.instance.addEventListener(transitionEvent, self.modalHidden);\n        }\n        addListener(this.instanceRoot.id, 'keydown', function (evnt: KeyboardEvent) {\n            if (evnt.key == 'Escape') {\n                self.hide(true);\n            }\n        });\n        addListener(this.instanceRoot.id, 'click', function (evnt: MouseEvent) {\n            self.hide(true);\n        });\n    }\n\n    blanketHidden(event): void {\n        // Do something when the transition ends\n        let blanket: HTMLElement;\n        blanket = getElementById('blanket');\n        if (event.animationName == 'fadeOut') {\n            blanket.removeEventListener(transitionEvent, this.blanketHidden);\n            blanket.remove();\n            // this.isOverlayOn = false;\n        }\n    }\n\n    align(): void {\n        lfn('align');\n        if (!this.disableUnderlay) {\n            addClass(this.instanceRoot, this.parentSizingClass);\n        }\n        centereStage(this.instance);\n        if (!this.disableUnderlay) {\n            //@todo removeClass(this.instanceRoot,this.parentSizingClass);\n        }\n    }\n\n    private modalHidden(event): void {\n        // Do something when the transition ends\n        if (event.animationName == 'zoomOut') {\n            this.instanceRoot.classList.add('d-none');\n            this.instanceRoot.classList.remove('zoomOut');\n            this.instanceRoot.removeEventListener(transitionEvent, this.modalHidden);\n        }\n    }\n\n    static auto(modalClass: string = 'dsynrModal'): void {\n        lfn('auto');\n        makeArray(getElementsByClass(modalClass)).forEach(function (instance) {\n            new DsynrModal(instance);\n        });\n    }\n}"]}